# 🛠️ Troubleshooting Log (2025-11-18)

## 1. 🔍 문제 개요
- 대화 로그: 오늘 발생한 문제 관련 대화가 없습니다.
- 커밋 기록: 오늘 커밋 없음
- 증상/영향: 구체 정보 미제공으로 재현 불가 상태
- 가설: 일시적 장애, 환경 불일치, 외부 의존성 문제, 인증/토큰 만료 등 가능성
- 목표: 정보 부족 상황에서의 표준 트러블슈팅 절차 수립 및 재발 방지 조치 정의

## 2. ❗ 오류 코드 및 오류 메시지
- 확인된 오류 코드/메시지: 없음
- 필수 수집 항목 가이드:
- - 클라이언트: 브라우저/앱 콘솔 에러, 네트워크 요청 실패 로그, 재현 영상/스크린샷, OS/브라우저 버전, 로컬 시간
- - 서버: 에러 스택, 요청 ID/트레이스 ID, 최근 배포 SHA/태그, 인스턴스 재시작 이벤트
- - CI/CD: 실패 스텝 로그, 아티팩트, 환경 변수 차이, 캐시 히트/미스
- - 인프라: CPU/메모리/디스크/FD 사용량, 네트워크 에러율, 상태 체크, 스케일링 이벤트
- - 외부 의존성: 상태 페이지, rate limit/쿼터, API 에러 코드/응답 지연
- 타임스탬프 표준: UTC 저장 + 로컬 시간 병기, 요청 ID와 함께 기록

## 3. 🧠 원인 분석
- 최근 커밋/변경 없음에도 장애가 발생할 수 있는 전형 사례:
- - 외부 서비스/네트워크 일시 장애 또는 DNS 이슈
- - 토큰/자격 증명 만료, 권한 변경
- - 캐시 불일치, CDN/브라우저 캐시 잔존
- - 의존성 자동 업데이트/이미지 리빌드로 인한 버전 드리프트
- - 리소스 고갈(메모리/디스크/파일 디스크립터) 및 스로틀링
- - 스케줄러/크론/잡 실패, 큐 적체
- - 시간 동기화/타임존 불일치
- - 스테이징/프로덕션 환경 구성 차이
- 영향 범위 미상으로 우선순위 산정 어려움 → SLI/알람 기반 확인 필요

## 4. 🛠️ 해결책
- 즉시 점검(정보 부족 상태 필수 체크리스트):
- 1) 재현 시도: 프로드/스테이징/로컬 비교, 최소 3회 시도 및 절차 문서화
- 2) 관측 강화: 일시적으로 로그 레벨 상향, 분산 트레이싱/요청 ID 강제, 에러 바운더리 활성화
- 3) 헬스 확인: 인프라 지표/알람, 외부 상태 페이지, 최근 스케일링/재시작 이벤트 점검
- 4) 인증/권한: API 키·토큰 만료/권한 변경 여부 확인 및 갱신
- 5) 캐시/빌드: CDN·앱·DB 캐시 무효화, 패키지/이미지 버전 고정, 자동 업데이트 차단
- 6) 런타임: 문제 노드 드레인 후 롤링 재시작, 콜드 스타트/메모리 누수 모니터링
- 7) 데이터: 최근 마이그레이션/인덱스 상태·락·장기 트랜잭션 확인
- 8) 시간: 모든 노드 NTP 동기화, 타임존 표준화
- 증거 수집 템플릿(추가 기록 권장): 언제(UTC/로컬), 어디서(서비스/환경), 무엇(증상/기대vs실제), 재현 절차, 영향 범위(SLI), 관련 로그/트레이스/스크린샷, 요청 ID
- 재발 방지: 구조화 로깅/트레이싱, SLO·알림 대시보드, 비결정적 의존성 고정(lockfile/digest), 시크릿 로테이션 스케줄, 잡/큐/크론 모니터링, 런북·포스트모템 템플릿화

## 5. 📚 교훈 및 주의 사항
- 정보 부재가 MTTR을 키운다: 최소 사고 보고서를 즉시 남길 것
- ‘변경 없음’은 근거가 되지 않는다: 외부 요인·환경 드리프트를 항상 검증
- 관측 가능성이 해결 속도를 좌우한다: 로그·메트릭·트레이싱은 기본값
- 시간/요청 ID 표준화는 사건 상관관계를 빠르게 만든다
- 자동 업데이트·캐시는 이중 칼: 고정·검증·무효화 전략을 명확히
- SLI/알림 없이는 우선순위가 흔들린다: 핵심 SLI를 정의·모니터링
- 체크리스트 기반 런북이 반복 사고의 대응 품질과 속도를 높인다
